<configuration>
    <property>
        <name>afo.app.name</name>
        <value>wmgg_test_cog</value>
    </property>
    <property>
        <name>afo.xm.notice.receivers.account</name>
        <value>dongjian03</value>
    </property>
    <property>
        <name>afo.app.queue</name>
        <value>root.zw05_training_cluster.hadoop-waimaiadrd.gpu_job</value>
    </property>
    <property>
        <name>afo.container.mode</name>
        <value>job</value>
    </property>
    <property>
        <name>afo.docker.image.name</name>
        <!-- <value>registryonline-hulk.sankuai.com/custom_prod/com.sankuai.data.hadoop.gpu/data-hadoop-hdp_tf1.15_mt_julang_1.0.0_cuda11.0_runtime-ebbb408f</value> -->
        <value>registryonline-hulk.sankuai.com/custom_prod/com.sankuai.data.hadoop.gpu/data-hadoop-hdp_tf1.15_mt_julang_1.0.0_cuda11.0_runtime-ebbb408f</value>
        <!-- <value>registryonline-hulk.sankuai.com/custom_prod/com.sankuai.data.hadoop.gpu/data-hadoop-hdp_tf1.15_mt_julang_1.0.0_cuda11.0_runtime-f5b15357</value> -->
        <!-- <value>registryonline-hulk.sankuai.com/custom_prod/com.sankuai.data.hadoop.gpu/data-hadoop-hdp_tf1.15_mt_julang_1.0.0_cuda11.0_runtime-f5b15357</value>  -->
    </property>
    <property>
        <name>afo.engine.tensorflow.virtualenv.name</name>
        <value>mt_tensorflow</value>
    </property>
    <property>
        <name>afo.app.virtualenv.version.mt_tensorflow.path</name>
        <value>viewfs://hadoop-meituan/ghnn01/yarn/var/afo/tensorflow/virtualenv/release/tf1.15_mt1.2.0-centos6-cpu-venv.tar.gz</value>
    </property>
    <property>
        <name>with.tensor.board</name>
        <value>true</value>
    </property>

    <property>
        <name>afo.tensorflow.cog.mode</name>
        <value>2</value>
    </property>
     <property>
        <name>afo.docker.use.independent.ip</name>
        <value>true</value>
    </property>
    <property>
        <name>afo.app.env.SEASTAR_CORE_NUMBER</name>
        <value>1</value>
    </property>
    <!--property>
        <name>afo.child.memory</name>
        <value>25000</value>
    </property-->
    <property>
        <name>afo.engine.tensorflow.use.seastar</name>
        <value>false</value>
    </property>
    <property>
        <name>afo.use.gang.scheduler</name>
        <value>false</value>
    </property>

    <property>
        <name>afo.prefetch.data</name>
        <value>false</value>
    </property>
    <property>
        <name>afo.data.packet.ignore.error</name>
        <value>true</value>
    </property>
    <!--property>
        <name>afo.data.agent.share.producer</name>
        <value>false</value>
    </property-->
    <property>
        <name>afo.data.support.big.batch</name>
        <value>true</value>
    </property>
    <!--property>
        <name>afo.data.use.StreamRecordSplitter</name>
        <value>true</value>
    </property-->
    <property>
        <name>afo.data.shm.buffer.size</name>
        <value>20000</value>
    </property>
    <property>
        <name>afo.data.async.save.ckpt</name>
        <value>true</value>
    </property>
    <property>
        <name>afo.data.packet.size</name>
        <value>100</value>
    </property>
    <property>
        <name>afo.data.request.packet.size</name>
        <value>16</value>
    </property>
    <property>
        <name>afo.data.download.threads</name>
        <value>32</value>
    </property>
     <property>
        <name>afo.data.check.restore.version</name>
        <value>False</value>
    </property>
    <property>
        <name>afo.app.support.engine.failover</name>
        <value>false</value>
    </property>
    <property>
        <name>afo.async.save.ckpt</name>
        <value>true</value>
    </property>
    <!--property>
        <name>afo.data.engine.prefetch.limit</name>
        <value>22</value>
    </property-->
    <property>
        <name>worker.input.local.dir</name>
        <value>inputs</value>
    </property>

    <property>
        <name>afo.use.data.dispatch</name>
        <value>true</value>
    </property>
    <property>
        <name>args.batch_size</name>
        <value>8000</value>
    </property>
    <property>
        <name>args.evaluator.batch_size</name>
        <value>16384</value>
    </property>
    <property>
        <name>afo.app.am.resource.mb</name>
        <value>10240</value>
    </property>
    <property>
        <name>afo.data.dispatch.policy</name>
        <value>com.meituan.hadoop.afo.tensorflow.data.policy.ShufflePolicy</value>
    </property>
    <property>
        <name>afo.data.max.epoch</name>
        <value>1</value>
    </property>

    <property>
        <name>with.chief</name>
        <value>false</value>
    </property>
    <property>
        <name>chief.memory</name>
        <value>10240</value>
    </property>
    <property>
        <name>chief.vcore</name>
        <value>8</value>
    </property>
    <property>
        <name>chief.gpu</name>
        <value>0</value>
    </property>
    <property>
        <name>chief.script</name>
        <value>python gpu_train_eval.py</value>
    </property>

    <property>
        <name>workers</name>
        <value>1</value>
    </property>
    <property>
        <name>worker.memory</name>
        <value>237568</value>
    </property>
    <property>
        <name>worker.vcore</name>
        <value>48</value>
    </property>
    <property>
        <name>worker.gcores80g</name>
        <value>1</value>
    </property>
    <property>
        <name>worker.script</name>
        <value>python gpu_train_eval.py</value>
    </property>
    <!--property>
       <name>afo.role.worker.env.AFO_PREFETCH_PROCESS</name>
       <value>8</value>
    </property>
    <property>
        <name>afo.role.worker.env.LD_PRELOAD</name>
       <value>/usr/lib64/libtcmalloc.so.4</value>
    </property-->

    <property>
        <name>parameter.servers</name>
        <value>0</value>
    </property>
    <property>
        <name>parameter.server.memory</name>
        <value>30720</value>
    </property>
    <property>
        <name>parameter.server.vcore</name>
        <value>8</value>
    </property>
    <property>
        <name>parameter.server.script</name>
        <value>python gpu_train_eval.py</value>
    </property>

    <property>
        <name>evaluator.memory</name>
        <value>204800</value>
    </property>
    <property>
        <name>evaluator.vcore</name>
        <value>16</value>
    </property>
    <property>
        <name>evaluator.gcores80g</name>
        <value>1</value>
    </property>
    <property>
        <name>evaluators</name>
        <value>0</value>
    </property>
    <property>
        <name>evaluator.script</name>
        <value>python gpu_train_eval.py</value>
    </property>

    <property>
        <name>afo.role.worker.task.attempt.max.retry</name>
        <value>1</value>
    </property>
    <property>
        <name>afo.data.disable.chief.training</name>
        <value>true</value>
    </property>
    <property>
        <name>finish.by.chief</name>
        <value>false</value>
    </property>

    <property>
        <name>afo.role.worker.container.relax</name>
        <value>true</value>
    </property>
    <property>
        <name>afo.role.worker.env.TF_HDFS_CLIENT_JVM_MEM_M</name>
        <value>40960</value>
    </property>

    <property>
        <name>afo.data.open_consume_monitor</name>
        <value>false</value>
    </property>


</configuration>